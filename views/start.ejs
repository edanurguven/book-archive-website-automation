<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('./partials/head.ejs') %>
  </head>
  <body>
    <%- include('./partials/header.ejs') %>

    <!-- banner section start -->
    <div class="banner_section layout_padding">
      <div class="container">
        <div id="main_slider" class="carousel slide" data-ride="carousel">
          <div class="carousel-inner">
            <div class="carousel-item active">
              <div class="row">
                <div class="col-sm-12">
                  <div class="banner_taital">
                    <h1 class="outstanding_text" style="color: #fff">
                      Outstanding
                    </h1>
                    <h1 class="coffee_text">Book Room</h1>
                    <p class="there_text">
                      Okuma tutkunlarının buluşma noktası burası. En sevdiğiniz
                      kitaplar hakkında fikir alışverişi yapın, yeni kitaplar
                      keşfedin ve kitaplar hakkındaki yorumlarınızı paylaşın.
                    </p>
                    <div class="learnmore_bt"><a href="#">Daha Fazla</a></div>
                    <!-- Online Users -->
                    <h2
                      class="online-users-text"
                      style="color: #fff; margin-top: 20px"
                    >
                      Şu anda online kullanıcılar:
                      <span id="online-users">0</span>
                    </h2>
                    <!-- Visit Count -->
                    <h2
                      class="visit-count-text"
                      style="color: #fff; margin-top: 20px"
                    >
                      Ziyaretçi sayısı:
                      <span id="visit-count"><%= visitCount %></span>
                    </h2>
                  </div>
                </div>
              </div>
              <!-- Site Map Link -->
              <h1>
                <a href="../siteMap.xml">Site Haritası</a>
              </h1>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- banner section end -->

    <!-- gallery section start -->
    <div class="gallery_section layout_padding">
      <div class="container">
        <div class="row">
          <div class="col-sm-12">
            <h1 class="gallery_taital">Our Gallery</h1>
            <p class="gallery_text">
              Lorem Ipsum is simply dummy text of printing typesetting ststry
              lorem Ipsum the industry'ndard dummy text ever since of the 1500s,
              when an unknown printer took a galley of type and scra make a type
              specimen book. It has
            </p>
          </div>
        </div>
        <div class="gallery_section_2">
          <div class="row">
            <% images.forEach((image) => { %>
            <div class="col-md-4">
              <div class="container_main">
                <img src="/img/<%= image %>" alt="Avatar" class="image" />
                <div class="overlay">
                  <div class="text">
                    <a href="#"
                      ><i class="fa fa-search" aria-hidden="true"></i
                    ></a>
                  </div>
                </div>
              </div>
            </div>
            <% }) %>
          </div>
        </div>
        <div class="seemore_bt"><a href="#">See More</a></div>
      </div>
    </div>
    <!-- gallery section end -->

    <!-- Resim yükleme formu -->
    <div class="upload_section layout_padding">
      <div class="container">
        <h2>Resim Yükle</h2>
        <form action="/upload" method="post" enctype="multipart/form-data">
          <input type="file" name="image" accept="image/*" required />
          <button type="submit">Yükle</button>
        </form>
      </div>
    </div>

    <%- include('./partials/footer.ejs') %> <%- include('./partials/script.ejs')
    %>

    <script src="/socket.io/socket.io.js"></script>
    <script>
      const socket = io();

      socket.on("onlineUsers", (count) => {
        document.getElementById("online-users").innerText = count;
      });

      socket.on("connect", () => {
        console.log("Connected to the server");
      });

      socket.on("disconnect", () => {
        console.log("Disconnected from the server");
      });
    </script>
  </body>
</html>
